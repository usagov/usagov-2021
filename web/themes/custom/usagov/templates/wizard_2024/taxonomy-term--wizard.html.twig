{# variables set in usagov_wizard.module
  parent_tid
  child
  start_over
#}

{% if term.langcode.value == 'en' %}
  {% set previous_string = 'Previous' %}
  {% set next_string = 'Next' %}
  {% set start_over_string = 'Start over' %}
{% else %}
  {% set previous_string = 'Anterior' %}
  {% set next_string = 'Siguiente' %}
  {% set start_over_string = 'Comenzar de nuevo' %}
{% endif %}

{% set attributes = attributes.addClass('usa-prose') %}
{% set attributes = attributes.addClass('usagov-wizard--content') %}

<div{{ attributes }}>
  <h1 class="text-red-50">{{ content.field_heading }}</h1>
  <div class="usa-intro">{{ content.field_intro }}</div>
  {{ content.field_body }}
  {% if child %}
    {{ content.field_options_list }}
    {{ content.field_footer }}
    <div class="grid-row margin-bottom-2 usagov-wizard-buttons">
{#       Generate the url for the parent of this term to put in the 'previous' button. #}
      {% set previous_path = path('entity.taxonomy_term.canonical', {'taxonomy_term': parent_tid}) %}
      <button id="prior" class="usa-button usa-button--secondary usa-button--big" onclick="window.location.href = '{{ previous_path }}'">{{ previous_string }}</button>

      {# If there are items in the options list, this must not be the last term in the tree. Generate a Next button. #}
      {% if content.field_options_list['#items'] %}
      <button id="next" class="desktop:margin-left-2 usa-button usa-button--outline usagov-button--outline-black usa-button--big"
              onclick="if(document.querySelector(`input[name='options']:checked`)) { window.location.href = document.querySelector(`input[name='options']:checked`).value; }">{{ next_string }}</button>
      {% endif %}
    </div>
  {% endif %}
  {% if start_over == 'true' %}
    <div class="margin-top-2">
      <a href="{{ path('entity.taxonomy_term.canonical', {'taxonomy_term': start_over_target_tid}) }}">{{ start_over_string }}</a>
    </div>
  {% endif %}
</div>
