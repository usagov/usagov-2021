{#
/**
 * @file
 * Default theme implementation for a view template to display a list of rows.
 *
 * Available variables:
 * - attributes: HTML attributes for the container.
 * - rows: A list of rows for this list.
 *   - attributes: The row's HTML attributes.
 *   - content: The row's contents.
 * - title: The title of this group of rows. May be empty.
 * - list: @todo.
 *   - type: Starting tag will be either a ul or ol.
 *   - attributes: HTML attributes for the list element.
 *
 * @see template_preprocess_views_view_list()
 *
 * @ingroup themeable
 */
#}

{{ attach_library('usagov/stateDirectory') }}

{% set lang = node.langcode.value %}

{% if attributes -%}
	<div{{attributes}}>
{% endif %}

<form
	id="stateForm" class="usa-form state-usa-form" onsubmit="stateSelect()" action="javascript:void(0);" autocomplete="off">

	{% embed 'usagov:usa-combo-box' with {
		label_id: "state-info-label",
		label_for:"state-info",
		usa_combo_box_modifiers: "usa-combo-box--pristine width-full mobile-lg:width-mobile",
		default_value: "alabama",
		list_id:"statelist",
		list_classes:"one-column-bullet",
		input_id:"state-info",
		input_classes:"usa-combo-box__input",
		input_aria_labelledby:"state-info-label",
		input_name:"Alabama",
		button_classes:"usa-button sd-go-btn usa-button--secondary"
	} %}

		{% set button_text = lang == 'es' ? "Ir" : "Go" %}
		{% set label_text = lang == 'en' ? 'Select your state or territory:' : 'Elija un estado o territorio:' %}
		{% set list_contents %}
			{% for row in rows %}
				{{- row.content -}}
			{% endfor %}
		{% endset %}

	{% endembed %}

</form>

{% if attributes -%}
	</div>
{% endif %}
