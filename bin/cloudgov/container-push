#!/bin/sh
#
# This script will attempt to store a container image on docker hub
# to be used when launching cloud.gov images
#

DOCKERREPO=dnark
CONTAINERNAME=usagov-2021

CONTAINERTAG=${1}
CONTAINERTAG2=${2}

if [ -z "$CONTAINERTAG" ]
then
      echo "Must specify a container tag to push"
      exit 1;
fi;

echo "docker push $DOCKERREPO/$CONTAINERNAME:cms-$CONTAINERTAG"
docker push $DOCKERREPO/$CONTAINERNAME:cms-$CONTAINERTAG
if [ -n "$CONTAINERTAG2" ]
then
    echo "docker push $DOCKERREPO/$CONTAINERNAME:cms-$CONTAINERTAG2"
    docker push $DOCKERREPO/$CONTAINERNAME:cms-$CONTAINERTAG2
fi

echo "docker push $DOCKERREPO/$CONTAINERNAME:waf-$CONTAINERTAG"
docker push $DOCKERREPO/$CONTAINERNAME:waf-$CONTAINERTAG
if [ -n "$CONTAINERTAG2" ]
then
    echo "docker push $DOCKERREPO/$CONTAINERNAME:waf-$CONTAINERTAG2"
    docker push $DOCKERREPO/$CONTAINERNAME:waf-$CONTAINERTAG2
fi
